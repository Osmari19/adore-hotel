<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="#inicio">
      <img src="images/cora.png" alt="Adore Hotel" class="logo-adore me-2" />
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="#inicio">{{ 'NAV.HOME' | translate }}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#concepto">{{ 'NAV.CONCEPT' | translate }}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#habitaciones">{{ 'NAV.ROOMS' | translate }}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#reservas">{{ 'NAV.BOOKINGS' | translate }}</a>
        </li>
        <!-- <li class="nav-item">
          <a class="nav-link" href="#contacto">{{ 'NAV.CONTACT' | translate }}</a>
        </li> -->
      </ul>

      <li class="nav-item dropdown ms-3 lang-item">
        <div class="d-flex align-items-center">
          <i class="lang-item fa-solid fa-earth-americas"></i>
          <button class="lang-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            {{ currentLang.toUpperCase() }} <span class="chevron">▾</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end lang-menu">
            <li>
              <button class="dropdown-item" (click)="changeLang('es')">
                Español
              </button>
            </li>
            <li>
              <button class="dropdown-item" (click)="changeLang('en')">
                English
              </button>
            </li>
            <li>
              <button class="dropdown-item" (click)="changeLang('fr')">
                Français
              </button>
            </li>
            <li>
              <button class="dropdown-item" (click)="changeLang('gl')">
                Gallego
              </button>
            </li>
          </ul>
        </div>

      </li>





    </div>
  </div>
</nav>

<!-- HERO -->
<header id="inicio" class="hero-adore text-white vh-100 d-flex align-items-center">
  <div class="hero-band w-100">
    <div class="container text-center hero-content">
      <img src="images/logo-adore.png" alt="Adore Hotel" class="hero-logo mb-4" />

      <p class="lead mb-4">
        {{ 'HERO.SUBTITLE' | translate }}
      </p>

      <a href="#reservas" class="btn btn-primary btn-lg me-2">
        {{ 'HERO.CTA_BOOK' | translate }}
      </a>
      <a href="#concepto" class="btn btn-outline-light btn-lg">
        {{ 'HERO.CTA_KNOW' | translate }}
      </a>
    </div>
  </div>
</header>

<!-- CONCEPTO ADORE -->
<section id="concepto">
  <div class="container">
    <div class="text-center my-4">
      <h2 class="mb-4 text-center section-title">{{ 'CONCEPT.TITLE' | translate }}</h2>
    </div>

    <div class="row justify-content-center mb-4">
      <div class="col-md-9">
        <p class="text-start mb-3">{{ 'CONCEPT.P1' | translate }}</p>
        <p class="text-start mb-3">{{ 'CONCEPT.P2' | translate }}</p>
        <p class="text-start mb-3">{{ 'CONCEPT.P3' | translate }}</p>
        <p class="text-start mb-0">{{ 'CONCEPT.P4' | translate }}</p>
      </div>
    </div>

    <div class="row mt-5 g-4 justify-content-center">
      <div class="col-md-4">
        <div class="adore-step-card step-1">
          <div class="step-media">
            <div class="step-badge">1</div>
          </div>
          <div class="step-content">
            <h4 class="mb-2">{{ 'STEPS.ONE.TITLE' | translate }}</h4>
            <p class="mb-0">{{ 'STEPS.ONE.TEXT' | translate }}</p>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="adore-step-card step-2">
          <div class="step-media">
            <div class="step-badge">2</div>
          </div>
          <div class="step-content">
            <h4 class="mb-2">{{ 'STEPS.TWO.TITLE' | translate }}</h4>
            <p class="mb-0">{{ 'STEPS.TWO.TEXT' | translate }}</p>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="adore-step-card step-3">
          <div class="step-media">
            <div class="step-badge">3</div>
          </div>
          <div class="step-content">
            <h4 class="mb-2">{{ 'STEPS.THREE.TITLE' | translate }}</h4>
            <p class="mb-0">{{ 'STEPS.THREE.TEXT' | translate }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- SOBRE ADORE -->
<section id="sobre-adore" class="py-5">
  <div class="container">
    <h2 class="mb-5 text-center section-title">{{ 'ABOUT.TITLE' | translate }}</h2>

    <div class="row align-items-start g-5">
      <div class="col-lg-6">
        <p class="mb-3">{{ 'ABOUT.P1' | translate }}</p>
        <p class="mb-3">{{ 'ABOUT.P2' | translate }}</p>
        <p class="mb-0">{{ 'ABOUT.P3' | translate }}</p>

        <div class="adore-quote mt-4">
          {{ 'ABOUT.QUOTE' | translate }}
        </div>

        <div class="adore-pill-group mt-3">
          <span class="adore-pill">{{ 'ABOUT.PILLS.P1' | translate }}</span>
          <span class="adore-pill">{{ 'ABOUT.PILLS.P2' | translate }}</span>
          <span class="adore-pill">{{ 'ABOUT.PILLS.P3' | translate }}</span>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="adore-products-grid">
          <div class="adore-product large">
            <img src="/images/desayuno.png" [alt]="'ABOUT.IMAGES.BREAKFAST' | translate" />
          </div>
          <div class="adore-product large">
            <img src="/images/masaje.jpg" [alt]="'ABOUT.IMAGES.MASSAGE' | translate" />
          </div>

          <div class="adore-product small">
            <img src="/images/quesos.jpg" [alt]="'ABOUT.IMAGES.CHEESE' | translate" />
          </div>
          <div class="adore-product small">
            <img src="/images/mermelada.jpg" [alt]="'ABOUT.IMAGES.JAM' | translate" />
          </div>
          <div class="adore-product small">
            <img src="/images/cosmetica2.jpg" [alt]="'ABOUT.IMAGES.COSMETICS2' | translate" />
          </div>
          <div class="adore-product small">
            <img src="/images/cosmetica.jpg" [alt]="'ABOUT.IMAGES.COSMETICS' | translate" />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- HABITACIONES -->
<section id="habitaciones" class="bg-light habitacion">
  <div class="container">
    <h2 class="mb-4 text-center section-title">{{ 'ROOMS.TITLE' | translate }}</h2>
    <p class="text-center mb-5">
      {{ 'ROOMS.INTRO' | translate }}
    </p>

    <div class="row g-4">
      <div class="col-md-4" *ngFor="let room of rooms">
        <div class="card h-100">
          <img [src]="room.image" class="card-img-top" [alt]="room.name" />
          <div class="card-body d-flex flex-column ">
            <h5 class="card-title">{{ room.name }}</h5>
            <p class="card-text">{{ 'ROOMS.DESCRIPTIONS.' + room.id | translate }}</p>

            <p class="fw-bold mt-auto room-price">
              <span class="price-badge">
                {{ room.price | currency:'EUR' }} / {{ 'ROOMS.PER_NIGHT' | translate }}
              </span>
            </p>

            <div class="d-flex justify-content-center">
              <button type="button" class="btn btn-primary btn-sm mt-2" (click)="selectRoom(room.name)">
                {{ 'ROOMS.CTA' | translate }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- RESERVAS -->
<section id="reservas" class="py-5 adore-reservas">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="section-title">{{ 'BOOKING.TITLE' | translate }}</h2>
      <p class="reservas-subtitle mt-3">
        {{ 'BOOKING.SUBTITLE' | translate }}
      </p>
    </div>

    <div class="reservas-wrap mx-auto">
      <div class="reservas-card" [class.has-room]="selectedRoomType">

        <div class="reservas-steps">
          <div class="r-step"><span class="r-dot">1</span> {{ 'BOOKING.STEPS.DATES' | translate }}</div>
          <div class="r-step"><span class="r-dot">2</span> {{ 'BOOKING.STEPS.ROOM' | translate }}</div>
          <div class="r-step"><span class="r-dot">3</span> {{ 'BOOKING.STEPS.CONTACT' | translate }}</div>
        </div>

        <form #bookingForm="ngForm" (ngSubmit)="onSubmitBooking(bookingForm)" class="row g-3 mt-2" novalidate>
          <!-- FECHAS -->
          <div class="col-md-6">
            <label class="form-label">{{ 'BOOKING.FORM.CHECKIN' | translate }}</label>
            <input #checkinInput type="date" class="form-control" name="checkin" [(ngModel)]="checkinDate" required
              #checkin="ngModel" (click)="openDatePicker(checkinInput)" (focus)="openDatePicker(checkinInput)"
              (ngModelChange)="validateDates()" [class.is-invalid]="
        (checkin.invalid && checkin.touched) ||
        (dateError && (checkin.touched || checkout.touched))
      " />
            <small class="invalid-hint" *ngIf="checkin.errors?.['required'] && checkin.touched">
              {{ 'BOOKING.VALIDATION.CHECKIN_REQUIRED' | translate }}
            </small>
          </div>

          <div class="col-md-6">
            <label class="form-label">{{ 'BOOKING.FORM.CHECKOUT' | translate }}</label>
            <input #checkoutInput type="date" class="form-control" name="checkout" [(ngModel)]="checkoutDate" required
              #checkout="ngModel" (click)="openDatePicker(checkoutInput)" (focus)="openDatePicker(checkoutInput)"
              (ngModelChange)="validateDates()" [class.is-invalid]="
        (checkout.invalid && checkout.touched) ||
        (dateError && (checkin.touched || checkout.touched))
      " />

            <small class="invalid-hint" *ngIf="checkout.errors?.['required'] && checkout.touched">
              {{ 'BOOKING.VALIDATION.CHECKOUT_REQUIRED' | translate }}
            </small>
            <small class="invalid-hint" *ngIf="dateError && (checkin.touched || checkout.touched)">
              {{ 'BOOKING.VALIDATION.DATE_ORDER' | translate }}
            </small>
          </div>

          <!-- HABITACIÓN -->
          <div class="col-md-7">
            <label class="form-label">{{ 'BOOKING.FORM.ROOMTYPE' | translate }}</label>

            <select class="form-select form-control-adore" name="roomType" [(ngModel)]="selectedRoomType" required
              #roomType="ngModel" [class.is-invalid]="roomType.invalid && roomType.touched">
              <option [ngValue]="null" disabled>
                {{ 'BOOKING.FORM.ROOMTYPE_PLACEHOLDER' | translate }}
              </option>

              <option *ngFor="let room of rooms" [ngValue]="room.name">
                {{ room.name }}
              </option>
            </select>

            <small class="invalid-hint" *ngIf="roomType.errors?.['required'] && roomType.touched">
              {{ 'BOOKING.VALIDATION.ROOM_REQUIRED' | translate }}
            </small>

            <div *ngIf="selectedRoomType" class="selected-room-pill mt-2">
              {{ 'BOOKING.FORM.SELECTED_ROOM' | translate }}: <strong>{{ selectedRoomType }}</strong>
              <button type="button" class="pill-clear" (click)="selectedRoomType = null">
                {{ 'BOOKING.FORM.CHANGE' | translate }}
              </button>
            </div>
          </div>

          <div class="col-md-5">
            <label class="form-label">{{ 'BOOKING.FORM.GUESTS' | translate }}</label>
            <input type="number" class="form-control form-control-adore" name="guests" ngModel required min="1" max="2"
              #guests="ngModel" [class.is-invalid]="guests.invalid && guests.touched" />
            <small class="invalid-hint" *ngIf="guests.errors?.['required'] && guests.touched">
              {{ 'BOOKING.VALIDATION.GUESTS_REQUIRED' | translate }}
            </small>
            <small class="invalid-hint" *ngIf="(guests.errors?.['min'] || guests.errors?.['max']) && guests.touched">
              {{ 'BOOKING.VALIDATION.GUESTS_RANGE' | translate }}
            </small>
          </div>

          <!-- CONTACTO -->
          <div class="col-md-4">
            <label class="form-label">{{ 'BOOKING.FORM.FIRSTNAME' | translate }}</label>
            <input type="text" class="form-control form-control-adore" name="firstName" ngModel required minlength="2"
              #firstName="ngModel" [class.is-invalid]="firstName.invalid && firstName.touched" />
            <small class="invalid-hint" *ngIf="firstName.errors?.['required'] && firstName.touched">
              {{ 'BOOKING.VALIDATION.FIRSTNAME_REQUIRED' | translate }}
            </small>
            <small class="invalid-hint" *ngIf="firstName.errors?.['minlength'] && firstName.touched">
              {{ 'BOOKING.VALIDATION.MIN_2' | translate }}
            </small>
          </div>

          <div class="col-md-4">
            <label class="form-label">{{ 'BOOKING.FORM.LASTNAME' | translate }}</label>
            <input type="text" class="form-control form-control-adore" name="lastName" ngModel required minlength="2"
              #lastName="ngModel" [class.is-invalid]="lastName.invalid && lastName.touched" />
            <small class="invalid-hint" *ngIf="lastName.errors?.['required'] && lastName.touched">
              {{ 'BOOKING.VALIDATION.LASTNAME_REQUIRED' | translate }}
            </small>
            <small class="invalid-hint" *ngIf="lastName.errors?.['minlength'] && lastName.touched">
              {{ 'BOOKING.VALIDATION.MIN_2' | translate }}
            </small>
          </div>

          <div class="col-md-4">
            <label class="form-label">{{ 'BOOKING.FORM.PHONE' | translate }}</label>
            <input type="tel" class="form-control form-control-adore" name="phone" ngModel required
              pattern="^\s*(\+?\d[\d\s-]{8,})\s*$" #phone="ngModel" [class.is-invalid]="phone.invalid && phone.touched"
              [placeholder]="'BOOKING.FORM.PHONE_PLACEHOLDER' | translate" inputmode="tel" autocomplete="tel" />
            <small class="invalid-hint" *ngIf="phone.errors?.['required'] && phone.touched">
              {{ 'BOOKING.VALIDATION.PHONE_REQUIRED' | translate }}
            </small>
            <small class="invalid-hint" *ngIf="phone.errors?.['pattern'] && phone.touched">
              {{ 'BOOKING.VALIDATION.PHONE_PATTERN' | translate }}
            </small>
          </div>

          <div class="col-12">
            <label class="form-label">{{ 'BOOKING.FORM.EMAIL' | translate }}</label>
            <input type="email" class="form-control form-control-adore" name="email" ngModel required email
              #email="ngModel" [class.is-invalid]="email.invalid && email.touched"
              [placeholder]="'BOOKING.FORM.EMAIL_PLACEHOLDER' | translate" autocomplete="email" />
            <small class="invalid-hint" *ngIf="email.errors?.['required'] && email.touched">
              {{ 'BOOKING.VALIDATION.EMAIL_REQUIRED' | translate }}
            </small>
            <small class="invalid-hint" *ngIf="email.errors?.['email'] && email.touched">
              {{ 'BOOKING.VALIDATION.EMAIL_VALID' | translate }}
            </small>
          </div>

          <!-- EXTRA (opcional) -->
          <div class="col-12">
            <label class="form-label">{{ 'BOOKING.FORM.SPECIAL' | translate }}</label>
            <textarea class="form-control form-control-adore" rows="3" name="specialRequest" ngModel maxlength="300"
              #specialRequest="ngModel"
              [class.is-invalid]="specialRequest.errors?.['maxlength'] && specialRequest.touched"
              [placeholder]="'BOOKING.FORM.SPECIAL_PLACEHOLDER' | translate"></textarea>
            <small class="invalid-hint" *ngIf="specialRequest.errors?.['maxlength'] && specialRequest.touched">
              {{ 'BOOKING.VALIDATION.SPECIAL_MAX' | translate }}
            </small>
          </div>

          <div class="col-12 d-flex flex-column flex-md-row gap-3 align-items-center justify-content-between mt-3">
            <div class="reservas-note">
              <span class="heart-dot">❤</span>
              {{ 'BOOKING.FORM.NOTE' | translate }}
            </div>

            <button class="btn btn-primary reservas-btn" [disabled]="bookingForm.invalid || dateError">
              {{ 'BOOKING.FORM.BUTTON' | translate }}
            </button>
          </div>
        </form>


        <div *ngIf="bookingResult" class="alert alert-success mt-4 adore-confirmation">
          <div class="confirmation-header">
            <span class="confirmation-icon">❤</span>
            <strong>{{ 'BOOKING.CONFIRM.TITLE' | translate }}</strong>
            <span class="confirmation-icon">❤</span>
          </div>

          <p class="mt-2 mb-3">{{ bookingResult }}</p>

          <div class="confirmation-actions">
            <button class="btn btn-outline-secondary btn-sm" (click)="bookingResult = null">
              {{ 'COMMON.CLOSE' | translate }}
            </button>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="py-3 bg-dark text-white text-center">
  <small>
    &copy; {{ currentYear }} {{ 'FOOTER.TEXT' | translate }}
  </small>
</footer>